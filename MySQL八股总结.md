# MySQL 八股文知识脉络

## 📚 整体知识框架

```
MySQL八股
├── 1. 基础架构篇
├── 2. 索引篇
├── 3. 事务篇
├── 4. 锁机制篇
├── 5. 日志篇
├── 6. SQL优化篇
├── 7. 存储引擎篇
└── 8. 高可用与集群篇
```

---

## 1. 🏗️ 基础架构篇

### 核心问题
- [ ] MySQL的整体架构是怎样的？
- [ ] 一条SQL语句的执行流程是什么？
- [ ] 连接器、分析器、优化器、执行器各自的作用是什么？
- [ ] MySQL的存储引擎架构是什么样的？

### 关键知识点
- **连接层**：连接管理、权限验证
- **服务层**：SQL接口、解析器、优化器、缓存
- **引擎层**：存储引擎（InnoDB、MyISAM等）
- **存储层**：文件系统、数据文件

---

## 2. 🔍 索引篇

### 核心问题
- [ ] 什么是索引？为什么要使用索引？
- [ ] B+树索引的原理是什么？为什么MySQL选择B+树？
- [ ] 什么是聚簇索引和非聚簇索引？
- [ ] 什么是覆盖索引？什么是回表？
- [ ] 什么是索引下推（ICP）？
- [ ] 什么是最左前缀原则？
- [ ] 索引失效的场景有哪些？
- [ ] 如何进行索引优化？

### 关键知识点
- **索引类型**：主键索引、唯一索引、普通索引、联合索引、全文索引
- **索引结构**：B+树、Hash索引
- **索引优化**：覆盖索引、索引下推、前缀索引

---

## 3. 💼 事务篇

### 核心问题
- [ ] 什么是事务？事务的四大特性（ACID）是什么？
- [ ] MySQL的隔离级别有哪些？各自解决了什么问题？
- [ ] 什么是脏读、不可重复读、幻读？
- [ ] MVCC的原理是什么？
- [ ] ReadView是如何工作的？
- [ ] 快照读和当前读的区别是什么？

### 关键知识点
- **ACID**：原子性、一致性、隔离性、持久性
- **隔离级别**：读未提交、读已提交、可重复读、串行化
- **MVCC**：多版本并发控制、undo log版本链、ReadView

---

## 4. 🔒 锁机制篇

### 核心问题
- [ ] MySQL有哪些锁？按粒度如何分类？
- [ ] 什么是共享锁和排他锁？
- [ ] 什么是意向锁？有什么作用？
- [ ] 什么是记录锁、间隙锁、临键锁？
- [ ] 如何避免死锁？
- [ ] 乐观锁和悲观锁的区别是什么？

### 关键知识点
- **锁粒度**：全局锁、表级锁、行级锁
- **锁类型**：共享锁(S)、排他锁(X)、意向共享锁(IS)、意向排他锁(IX)
- **InnoDB行锁**：记录锁(Record Lock)、间隙锁(Gap Lock)、临键锁(Next-Key Lock)

---

## 5. 📝 日志篇

### 核心问题
- [ ] MySQL有哪些重要的日志？
- [ ] redo log和undo log的区别是什么？
- [ ] bin log的作用是什么？有哪几种格式？
- [ ] 两阶段提交是什么？为什么需要两阶段提交？
- [ ] redo log的刷盘策略是什么？

### 关键知识点
- **redo log**：重做日志，保证持久性，crash-safe
- **undo log**：回滚日志，保证原子性，MVCC版本链
- **bin log**：归档日志，主从复制、数据恢复
- **两阶段提交**：保证redo log和bin log的一致性

---

## 6. ⚡ SQL优化篇

### 核心问题
- [ ] 如何定位慢SQL？
- [ ] EXPLAIN执行计划怎么看？各字段含义是什么？
- [ ] 常见的SQL优化手段有哪些？
- [ ] 如何优化深分页问题？
- [ ] COUNT(*)、COUNT(1)、COUNT(列名)的区别？
- [ ] JOIN的原理是什么？如何优化JOIN查询？

### 关键知识点
- **慢查询日志**：定位慢SQL
- **EXPLAIN关键字段**：type、key、rows、Extra
- **优化策略**：避免SELECT *、合理使用索引、避免函数操作

---

## 7. 🗄️ 存储引擎篇

### 核心问题
- [ ] InnoDB和MyISAM的区别是什么？
- [ ] InnoDB的内存结构是怎样的？
- [ ] Buffer Pool的作用是什么？LRU算法如何改进的？
- [ ] 什么是Change Buffer？
- [ ] InnoDB的磁盘结构是怎样的？

### 关键知识点
- **InnoDB特性**：事务支持、行级锁、外键、MVCC
- **内存结构**：Buffer Pool、Change Buffer、Log Buffer、Adaptive Hash Index
- **磁盘结构**：系统表空间、独立表空间、redo log文件、undo表空间

---

## 8. 🌐 高可用与集群篇

### 核心问题
- [ ] MySQL主从复制的原理是什么？
- [ ] 主从复制有哪些模式？
- [ ] 如何解决主从延迟问题？
- [ ] 什么是读写分离？如何实现？
- [ ] MySQL分库分表的方案有哪些？

### 关键知识点
- **主从复制**：bin log、relay log、I/O线程、SQL线程
- **复制模式**：异步复制、半同步复制、组复制
- **分库分表**：垂直拆分、水平拆分、中间件方案

---

## 📖 学习路径建议

```mermaid
graph LR
    A[基础架构] --> B[存储引擎]
    B --> C[索引原理]
    C --> D[事务与MVCC]
    D --> E[锁机制]
    E --> F[日志系统]
    F --> G[SQL优化]
    G --> H[高可用集群]
```

1. **入门阶段**：先理解MySQL整体架构和SQL执行流程
2. **核心阶段**：深入学习索引、事务、锁这三大核心
3. **进阶阶段**：掌握日志机制和SQL优化技巧
4. **高级阶段**：了解高可用架构和分布式方案

---

## ✅ 学习进度追踪

| 模块 | 状态 | 掌握程度 |
|------|------|----------|
| 基础架构篇 | ⬜ 未开始 | ☆☆☆☆☆ |
| 索引篇 | ⬜ 未开始 | ☆☆☆☆☆ |
| 事务篇 | ⬜ 未开始 | ☆☆☆☆☆ |
| 锁机制篇 | ⬜ 未开始 | ☆☆☆☆☆ |
| 日志篇 | ⬜ 未开始 | ☆☆☆☆☆ |
| SQL优化篇 | ⬜ 未开始 | ☆☆☆☆☆ |
| 存储引擎篇 | ⬜ 未开始 | ☆☆☆☆☆ |
| 高可用与集群篇 | ⬜ 未开始 | ☆☆☆☆☆ |

---

> 💡 **提示**：每个模块的核心问题可以作为自检清单，学完后尝试用自己的话回答这些问题。
